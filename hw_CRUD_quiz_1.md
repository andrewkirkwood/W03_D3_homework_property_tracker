# CRUD Quiz

Use the solution to this afternoon's Property Tracker lab to answer the following questions. Please write your answers under each question, push the file to GitHub, and submit in the usual way.

## MVP Questions

In our Property Tracker application:

Q1. Where are we instantiating instances of the `Property` class?
    inside 'console.rb' as variables 'property1', 'property2' and 'property3' respectively

Q2. Where are we defining the SQL that enables us to save the ruby `Property` object into the database?
    the 'sql' variable within the 'save' method within 'property.rb'

Q3. In `console.rb`, which lines modify the database?
    4, 13, 22, 31, 33
Q4. Why do we not define the id of a `Property` object at the point we instantiate it (‘new it up’)?
    to invert control and prevent human error, i.e. give the computer control over the id's and not the user

Q5. Where and how do we assign the id (that is generated by the database) to the ruby `Property` object?
    the 'sql' variable within the 'save' method in property.rb the SQL query RETURNING id returns the id that SQL assigns and line 32 then assigns the SQL value to the @id parameter within Ruby.

Q6. Why do we put a guard (an `if` clause) on the `@id` attribute in the constructor?
    To avoid an id of nil being assigned to the database.

Q7. Why are some of the CRUD actions represented by instance methods, and others by class methods?
    The instance methods are designed to only run on the instance of the class whereas the class method is designed to run on the whole class.

Q8. What type of data structure is returned by calls to `db.exec_prepared()`? In the `save` method, how do we access the id from the returned data structure?
    'db.exec_prepared' returns a hash within an array. We access the id via '[0]["id"]' which first accesses into the array and then the 'id' key within the hash

Q9. Why do we use prepared statements when performing database operations?
    To avoid errors when assigning parameters to the database. The $ keeps specified values the same.

## Extension Questions

Look at the `find_by_id` and `find_by_address` methods in the `Property` class.

Q10. What do they take in as their arguments?
    the find(id) method takes the id parameter of the instance of Property as it's argument. Accessed via the attr_reader .id method called on the Property instance.

    find_by_address takes in a user specified string as an argument and searches for a match on the string passed in.

Q11. What are their return values?
    Both return a new instance of Property with matching parameters to the ones found in the database
